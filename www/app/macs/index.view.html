<!-- <h1>MAC Address</h1> -->

<table class="table table-hover table-sm" st-table="displayedCollection" st-safe-src="vm.macsCollection">
	<thead class="thead-dark">
		<tr>
			<th scope="col">#</th>
			<th scope="col" st-sort="mac">MAC address <span class="oi oi-resize-height"></span></th>
			<th scope="col" st-sort="host">Host <span class="oi oi-resize-height"></span></th>
			<th scope="col" st-sort="host_vendor">Host Vendor <span class="oi oi-resize-height"></span></th>
			<th scope="col" st-sort="vlan">VLAN <span class="oi oi-resize-height"></span></th>
			<th scope="col" st-sort="port">Port <span class="oi oi-resize-height"></span></th>
			<th scope="col" st-sort="datetime">Date of Find <span class="oi oi-resize-height"></span></th>
			<th scope="col">Description</th>
			<!-- <th></th> -->
			<th scope="col" st-sort="confirmed">Confirmed <span class="oi oi-resize-height"></span></th>
		</tr>
	</thead>
	<tbody>
		<tr ng-repeat="mac in displayedCollection">
			<th>{{ mac.id }}</th>
			<td>{{ mac.mac }}</td>
			<td>{{ mac.host }}</td>
			<td>{{ mac.host_vendor }}</td>
			<td>{{ mac.vlan }}</td>
			<td>{{ mac.port }}</td>
			<td>{{ mac.datetime | date:"dd-MM-yy HH:mm" }}</td>
			<td editable-text="mac.desc">
				{{ mac.desc || "-" }}
			</td>
			<!-- <td>
				<a ui-sref="macdetail({macId: mac.id})">View Contact</a>
			</td> -->
			<td>
				
				<span ng-switch="mac.status">

					<span ng-switch-when="1|2" ng-switch-when-separator="|">
						<!-- <span class="oi oi-check"></span> -->
						<button type="button" class="btn btn-sm" ng-click="vm.confirmUpdate(mac.id, 0, vm.macsCollection.indexOf(mac))"
							ng-disabled="vm.loading[vm.macsCollection.indexOf(mac)]"
							ng-class="{'btn-secondary': mac.status == '1', 'btn-warning': mac.status == '2'}">
							Cancel
						</button>
					</span>

					<span ng-switch-default>
						<button type="button" class="btn btn-sm btn-success" ng-click="vm.confirmUpdate(mac.id,1,vm.macsCollection.indexOf(mac))" ng-disabled="vm.loading[vm.macsCollection.indexOf(mac)]">Approve</button>
						<button type="button" class="btn btn-sm btn-danger" ng-click="vm.confirmUpdate(mac.id,2,vm.macsCollection.indexOf(mac))" ng-disabled="vm.loading[vm.macsCollection.indexOf(mac)]">Decline</button>
					</span>

				</span>

				<button type="button" class="btn btn-sm btn-info" ui-sref="macdetail({macId: mac.id})"><span class="oi oi-pencil"></button>

			</td>
		</tr>
	</tbody>
</table>
